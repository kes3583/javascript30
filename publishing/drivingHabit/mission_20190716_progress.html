<!doctype html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html" charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-title" content="index" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="apple-touch-icon-precomposed" sizes="114×114" href="/share/favicon.png">
    <title>운전습관</title>
    <meta property="og:title" content="운전습관">
    <meta property="og:type" content="website">
    <meta property="og:image" content="">
    <meta property="og:site_name" content="운전습관">
    <meta property="fb:app_id" content="">
    <meta property="og:url" content="">
    <meta property="og:description" content="운전습관">
    <meta name="format-detection" content="telephone=no">
    <link rel="stylesheet" type="text/css" href="css/mission_20190716.css">
</head>

<body>
    <section class="header df ai-ct">
        <img src="./images/mission/20190716/img-header.png" alt="">
        <img src="./images/mission/20190716/share.png" alt="" class="ico-share">
        <div class="rec df ai-ct js-ct"> 307,087 <span class="ds-ib fs16 fc-inherit">명</span><span class="ds-ib fs16 fc-000">참여 중</span>
        </div>
        <div class="animation-belt">
            <div class="left"><img src="./images/mission/20190716/img-belt01.png" alt=""></div>
            <div class="right"><img src="./images/mission/20190716/img-belt02.png" alt=""></div>
        </div>
    </section>
    <section class="content">
        <!-- <h1 class="fs17">T map 운전습관 안전운전 캠페인</h1> -->
        <div class="roundbox br-radious0 mb0 pdb0">
            <!-- <img src="./images/mission/20190716/txt_01_01.png" alt="응모하기" class="mb20"> -->
            <img src="./images/mission/20190716/txt_01_01_done.png" alt="응모완료" >
            <img src="./images/mission/20190716/txt_01_02.png" alt="">
            <div class="card">
                <div class="detail">
                    <div class="tit"><img src="./images/mission/20190716/tit.png" alt=""></div>
                    <span class="num fc-000">1234567</span>
                    <span class="roundbox gr pd0">010-12**-56**</span>
                </div>
                <img src="./images/mission/20190716/img_usernum.png" alt="" class="img">
            </div>
            <!-- <div class="animation01"><img src="./images/mission/20190716/dummy01.png" alt=""></div>
        <p class="fs14">※ 안전벨트 OK 캠페인에서 지금 바로 응모하세요</p> -->
        </div>
        <div class="coupon">
            <p class="txt-01 fs17  tc ff-nanumsquare">아래 응모하기 버튼을 눌러<br><strong class="fs17"> 스타벅스 카페 아메리카노(Tall)</strong>에<br> 응모하세요!</p>

            <div class="roundbox gr bd-radius14 mb0">총 5,000명 추첨</div>
        </div>
        <!-- <div class="coupon coupon-sb">
            <img src="./images/mission/20190716/coupon_starbucks.png" alt="">
        </div> -->

        <div class="roundbox bg-color-sky-blue sitbelt">
            <div class="left"><a href="">
                    <img src="./images/mission/20190716/img_campaign_sitbelt_01.png" alt=""></a></div>
            <div class="right"><img src="./images/mission/20190716/img_campaign_sitbelt_02.png" alt=""></div>
        </div>
        <div class="roundbox progress">
            <img src="./images/mission/20190716/txt_02.png" alt="">
            <div class="circle" id="circle">
                <div class="distance">
                    <h3><img src="./images/mission/20190716/tit_02.png" alt=""></h3>
                    <strong>100<i>%</i></strong>
                    <ul>
                        <li>
                            <span class="tit"><em>주행거리</em></span>
                            <span class="bold">100<em class="unit">km</em></span>
                        </li>
                        <li>
                            <span class="tit"><em>과속주행</em></span>
                            <span class="bold fc-orange">27.2<em class="unit">km</em></span>
                        </li>
                    </ul>
                </div>

            </div>
            <img src="./images/mission/20190716/img-coupon.png" alt="" class="m-coupon">
            <div class="roundbox gr bd-radius14 mt15 mb0">준수율 100% 상위 1,000명</div>
        </div>
        <p class="txt-03">2019년 8월 22일(목)<br> 오후 5시 순위가 발표됩니다!</p>
        <p class="txt-03 txt-04">※ 자세한 내용은 유의사항을 참고해주세요.</p>
    </section>
    <section class="footer">
        <a href="javascript:;" class="bold"><img src="./images/mission/20190716/tit_event_.png" alt=""></a>
        <ul>
            <li class="nonBullet"><img src="./images/mission/20190716/tit_event_@2x.png" alt="" class="tit01"></li>
            <li>이 이벤트는 T map 앱 4.6.0 이상 버전에서 참여하실 수 있습니다.</li>
            <li>T map 운전습관 이용 고객님에 한해 한 번만 참여할 수 있습니다.</li>
            <li>규정속도 준수율은 길안내 시작을 기준으로 2019년 8월 1일(목)00시부터 8월 18일(일) 23시 59분 59초까지의 주행 이력이 계산된 결과입니다. 소수점 둘째 자리까지 측정하며 같은 비율일 경우 주행거리가 더 긴 사용자를 우선으로 순위를 정합니다.</li>
            <li class="nonBullet"><img src="./images/mission/20190716/tit_event_02.png" alt="" class="tit02"></li>
            <li>당첨 여부는 2019년 8월 22일(목) 오후 5시부터 8월 27일(화)까지 운전습관 위쪽 배너에서 확인 가능하며, 응모하신 휴대전화번호로 8월 28일 기프티콘으로 발송 예정입니다. </li>
            <li>당첨된 시점에 T map 운전습관, T map 서비스를 탈퇴하거나 부정 행위가 확인된 경우, 당첨이 취소되며 경품 사용에 제한이 있을 수 있습니다. 경품 발송을 위한 개인정보 미입력, 입력 오류 등으로 당첨이 취소될 수 있습니다.</li>
            <li>SK주유권 (3만 원), 스타벅스 아이스 커피 (Tall) 상품은 기프티콘으로 전송됩니다.</li>
            <li>운영 사정에 따라 이벤트 진행 및 경품 발표 일정이 변경될 수 있습니다.</li>
            <li class="nonBullet"><img src="./images/mission/20190716/tit_event_03.png" alt="" class="tit03"></li>
            <li>이벤트 관련 문의는 T map 고객센터로 해주시기 바랍니다.</li>
            <li>T map 고객센터: SK텔레콤 고객님 전용(1553, 무료)/일반 고객님(1600-5110, 유료)</li>
        </ul>
    </section>
    <div class="register-box">
        <div class="df js-ct"><button class="btn btn-down">down</button></div>
        <div class="form-register">
            <form>
                <input type="text" name="search" placeholder="'-' 없이 휴대폰 번호 입력">
                <div class="txt">※ 휴대폰 번호는 응모하기 후 수정이 불가능합니다.</div>
                <label class="container">[필수] 개인정보 수집/이용 동의 및 처리 안내
                    <input type="checkbox">
                    <span class="checkmark"></span>
                </label>

            </form>
            <div class="policy">
                <p>안전운전 캠페인 참여를 위한 개인정보 수집‧이용 동의서<br><br> “T map 안전운전 캠페인”참여와 관련하여,<br> 본인의 개인정보를 SK텔레콤(주)가 수집 및 이용하는 것에 대해 동의합니다.</p>

                <table>
                    <tr>
                        <th>수집/이용
                            목적</th>
                        <th>수집 항목</th>
                        <th>보유 기간</th>
                    </tr>
                    <tr>
                        <td>본인 확인</td>
                        <td>유저키</td>
                        <td rowspan=2>당첨자 발송 (8월 28일) 후 고객 문의 확인 및 운전 정보 분석의 목적으로 3개월
                            보관 후 파기</td>
                    </tr>
                    <tr>
                        <td>당첨 경품 전송 안내</td>
                        <td>휴대폰번호</td>
                    </tr>
                </table>
                <ul>
                    <li>- 고객님께서는 동의를 거부하실 수 있으나, 동의하지 않을 경우 경품을 받으실 수 없습니다.</li>
                    <li>- 본 이벤트는 알마커뮤니케이션스(주)에서 당첨 대상자 관리 업무를 위탁 진행합니다.<br></li>
                    <li>- 법령에 따른 개인정보의 수집/이용, 계약의 이행/편의증진을 위한 개인정보 처리위탁 및 개인정보 처리와 관련된 일반 사항은 T map의 개인정보 처리방침에 따릅니다.<br></li>
                    <li>- 문의: T map 고객센터 1553(SKT 가입자) | 1600-5110 (SKT 외 가입자)</li>
                </ul>

            </div>
        </div>


    </div>
    <div class="fixed">
        <button type="button" class="btn btn-block btn-reg">“안전벨트 OK” 캠페인 응모하기</button>
    </div>
</body>
<script src="js/plugins/jquery-1.11.1.min.js"></script>
<script src="js/plugins/circle-progress.min.js"></script>

<script>
    "use strict";
    function _debounce(func, wait, immediate = true) {
            var timeout;
            return function() {
                var context = this,
                    args = arguments;
                var later = function() {
                    timeout = null;
                    if (!immediate) func.apply(context, args);
                };
                var callNow = immediate && !timeout;
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
                if (callNow) func.apply(context, args);
            };
        };

    //progress bar
    const graph = function() {
        var num = 0.8904; // max = 1
        $('#circle').circleProgress({
            value: num,
            size: 220,
            thickness: 10,
            startAngle: -Math.PI / 4 * 2,
            lineCap: 'round',
            fill: {
                color: '#00bc76'
            }
        }).on('circle-animation-progress', function(event, progress) {
            //console.log('progress',Math.round(num))
            $(this).find('strong').html((100 * (progress * num)).toFixed(2) + '<i>%</i>');
        });
    }
    graph();
    const progressBar = document.querySelector('.circle');
    var myStatus = 0;
    function checkSlide(e) {
            //console.count(e)
                const progressBarVal = progressBar.getBoundingClientRect();
                //half way through the image

                // console.log('window.scrollY', window.scrollY)
                // console.log('window.innerHeight', window.innerHeight)
                // console.log('progressBarVal.height', progressBarVal.height)
                // console.log('progressBar.offsetTop ', progressBar.offsetTop)
                // console.log('progressBarVal.top ', progressBarVal.top)

                //bottom ot the content area.
                const slideInAt = (window.scrollY + window.innerHeight) - progressBar.offsetHeight / 2;

                //bottom of the image
                const imgOffsetBottom= progressBar.offsetTop + progressBar.offsetHeight;
                //const imgRectBottom= progressBarVal.top + progressBarVal.height;
                // console.log('progressBar.offsetTop ', progressBar.offsetTop, 'imgRectTop',progressBarVal.top )
                console.log('window.scrollY + window.innerHeight ', window.scrollY + window.innerHeight, 'progressBar.offsetTop', progressBar.offsetTop)
                console.log('window.scrollY + window.innerHeight ', window.scrollY + window.innerHeight, 'progressBar.offsetTop + offsetHeight', progressBar.offsetTop + progressBar.offsetHeight)

                const isHalfShown = window.scrollY + window.innerHeight > progressBar.offsetTop;
                const isNotScrolledPast = window.scrollY + window.innerHeight < progressBar.offsetTop + progressBar.offsetHeight;


                if (isHalfShown && isNotScrolledPast) {
                    // progressBar.classList.add('active')
                    // console.log('스크롤 안');
                    if (myStatus == 0) {
                        myStatus = 1;

                        graph();
                    }
                }
                //else {
                //     progressBar.classList.remove('active')
                //     console.log('스크롤 밖')
                //     myStatus = 0;
                // }




        }
        //window.addEventListener('scroll', checkSlide);
        window.addEventListener('scroll', _debounce(checkSlide,0));

    //$('.register-box').hide();
    $(".btn-reg").click(function() {
        // $(this).toggleClass("open").next().stop().slideToggle()
        $(this).parent().prev().stop().slideToggle();
        //$(this).parent().prev()
    });
    $(".btn-down").click(function() {
        // $(this).toggleClass("open").next().stop().slideToggle()
        $(this).parent().parent().stop().slideToggle();
    });

    $(".footer a").click(function() {
        // $(this).toggleClass("open").next().stop().slideToggle()
        $(this).toggleClass("open").next().toggle()
        $("body, html").animate({
            scrollTop: $("body").height()
        }, 300)
    });
</script>

</html>
